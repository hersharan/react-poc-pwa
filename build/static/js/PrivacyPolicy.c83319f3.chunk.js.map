{"version":3,"sources":["js/components/PrivacyPolicy/privacyPolicy.action.js","js/components/PrivacyPolicy/PrivacyPolicy.js"],"names":["config","getAuthorization","getPrivacyPolicyAction","getPrivacyPolicy","language","country","dispatch","type","axios","get","concat","then","response","payload","data","catch","error","PrivacyPolicy","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","preview","nid","createMarkup","bind","assertThisInitialized","getRenderPrivacyPolicy","parsed","queryString","parse","location","search","setState","policy","removeDrupalToolbar","__html","_this$props","fetchingPolicy","fetchedPolicy","length","react_default","a","createElement","Fragment","className","dangerouslySetInnerHTML","title","market","CardSubtitle","tag","Col","body","NoContentFound","HeadingLoader","DetailsLoader","nextProps","prevState","tnc","Component","connectedPrivacyPolicy","connect","_state$privacyPolicy","privacyPolicy","policyError"],"mappings":"2OAKMA,EAASC,cAuBf,IAIeC,EAJgB,CAC7BC,iBAtBF,SAA0BC,EAAUC,GAElC,OAAQ,SAACC,GAOPA,EAAS,CAAEC,KAAM,yBACjBC,IAAMC,IAAN,GAAAC,OAFO,wBAEP,iBAAiCV,GAC9BW,KAAK,SAACC,GACLN,EAAS,CAAEC,KAAM,+BAAgCM,QAASD,EAASE,SAEpEC,MAAM,SAACC,GACNV,EAAS,CAAEC,KAAM,+BAAgCM,QAASG,EAAMJ,WAChEN,EAAS,CAAEC,KAAM,YAAaM,QAASG,sDCAzCC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXZ,KAAMI,EAAMJ,KACZa,QAAS,EACTC,IAAK,GAGPT,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACpBA,EAAKa,uBAAyBb,EAAKa,uBAAuBF,KAA5BV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KATbA,mFAajB,IAAMc,EAASC,IAAYC,MAAMb,KAAKJ,MAAMkB,SAASC,QAC7CV,EAAiBM,EAAjBN,QAASC,EAAQK,EAARL,IACbD,GACFL,KAAKgB,SAAS,CACZX,QAASA,EACTb,KAAMQ,KAAKJ,MAAMqB,OACjBX,IAAKA,IAGTY,cACAlB,KAAKJ,MAAMf,wDAaAW,GACX,MAAO,CAAE2B,OAAQ3B,oDAGM,IAAA4B,EAC2BpB,KAAKJ,MAA/CqB,EADeG,EACfH,OAAQI,EADOD,EACPC,eAEhB,GAHuBD,EACSE,cAEb,CACjB,GAAIL,GAA4B,IAAlBA,EAAOM,OACnB,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAAaC,wBAAyB7B,KAAKO,aAAaU,EAAOa,SAC5Eb,EAAOc,QACNP,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAcC,IAAI,KAAKL,UAAU,2BAA2BX,EAAOc,QAErEP,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAKN,UAAU,cAAcC,wBAAyB7B,KAAKO,aAAaU,EAAOkB,SAIhF,GAAsB,IAAlBlB,EAAOM,OACd,OAAOa,mBAGN,GAAIf,EACP,OAAQG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACNH,EAAAC,EAAAC,cAACW,EAAA,EAAD,MACAb,EAAAC,EAAAC,cAACY,EAAA,EAAD,wCAMJ,OACEd,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yCACZ5B,KAAKU,6EA5CoB6B,EAAWC,GACzC,IAAIpC,EAAQoC,EACZ,OAAIpC,GAASmC,EAAUjB,eAAsC,OAArBiB,EAAUtB,OACxC,CACNwB,IAAKF,EAAUtB,QAGZb,SAlCiBsC,aAkF5B,IAMMC,EAAyBC,YAX/B,SAAyBxC,GAAO,IAAAyC,EACiCzC,EAAM0C,cACrE,MAAO,CAAE7B,OAFqB4B,EACtB5B,OACS8B,YAFaF,EACdE,YACc1B,eAFAwB,EACDxB,eACiBC,cAFhBuB,EACevB,gBAIpB,SAACtC,GAC1B,MAAO,CACLH,iBAAkB,SAACC,EAAUC,GAAX,OAAuBC,EAASJ,EAAuBC,iBAAiBC,EAASC,OAIxE6D,CAA6CjD,GAE5DgD","file":"static/js/PrivacyPolicy.c83319f3.chunk.js","sourcesContent":["import axios from 'axios';\nimport { getAuthorization } from '../../helpers/authorization';\n// Enable when global terms and privacy are required\n// import { isLoggedIn } from '../../helpers/authorization';\n\nconst config = getAuthorization();\n\nfunction getPrivacyPolicy(language, country) {\n\n  return ((dispatch) => {\n    /*\n    // Enable when global terms and privacy are required\n    // const loggedIn = isLoggedIn()\n    // let url = loggedIn ? `/api/v1/privacyPolicy` : `/api/v1/globalPrivacyPolicy`;\n    */\n    let url = `/api/v1/privacyPolicy`;\n    dispatch({ type: 'FETCH_PRIVACY_POLICY' });\n    axios.get(`${url}?_format=json`, config)\n      .then((response) => {\n        dispatch({ type: 'FETCH_PRIVACY_POLICY_SUCCESS', payload: response.data });\n      })\n      .catch((error) => {\n        dispatch({ type: 'FETCH_PRIVACY_POLICY_FAILURE', payload: error.response });\n        dispatch({ type: \"ADD_ERROR\", payload: error });\n      })\n  });\n}\n\nconst getPrivacyPolicyAction = {\n  getPrivacyPolicy\n}\n\nexport default getPrivacyPolicyAction;\n","/*\n  provide Privacy Policy.\n\n  Redux Store Props:\n    policy: <Object> data for policy.\n    fetchingPolicy: <Boolean> flag to specify if api is fetching policy,\n    fetchedPolicy: <Boolean> flag to specify if api has fetched policy,\n    error: <String/ANY> a message from api detailing about error encountered.\n*/\n/* Import Core Libraries */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport queryString from 'query-string';\nimport { Col, CardSubtitle } from 'reactstrap';\n\n/* Import Custom Libraries */\nimport getPrivacyPolicyAction from './privacyPolicy.action';\nimport { NoContentFound } from '../../helpers/error';\nimport HeadingLoader from '../Loaders/HeadingLoader';\nimport DetailsLoader from '../Loaders/DetailsLoader';\nimport '../../../sass/components/static-content.scss';\nimport {removeDrupalToolbar} from '../../helpers/utils';\n\nclass PrivacyPolicy extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: props.data,\n      preview: 0,\n      nid: 0\n    };\n\n    this.createMarkup = this.createMarkup.bind(this);\n    this.getRenderPrivacyPolicy = this.getRenderPrivacyPolicy.bind(this);\n  }\n\n  componentDidMount() {\n    const parsed = queryString.parse(this.props.location.search);\n    const { preview, nid } = parsed;\n    if (preview) {\n      this.setState({\n        preview: preview,\n        data: this.props.policy,\n        nid: nid,\n      })\n    }\n    removeDrupalToolbar();\n    this.props.getPrivacyPolicy();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let state = prevState;\n    if (state && nextProps.fetchedPolicy && nextProps.policy !== null) {\n      return ({\n        tnc: nextProps.policy,\n      });\n    }\n    return state;\n  }\n\n  createMarkup(data) {\n    return { __html: data };\n  }\n\n  getRenderPrivacyPolicy() {\n    const { policy, fetchingPolicy, fetchedPolicy } = this.props;\n\n    if (fetchedPolicy) {\n      if (policy && policy.length !== 0) {\n        return (\n          <>\n            <h1 className=\"page-title\" dangerouslySetInnerHTML={this.createMarkup(policy.title)}></h1>\n            {policy.market &&\n              <CardSubtitle tag='h3' className=\"brand-title text-center\">{policy.market}</CardSubtitle>\n            }\n            <Col className=\"description\" dangerouslySetInnerHTML={this.createMarkup(policy.body)}></Col>\n          </>\n        )\n      }\n      else if (policy.length === 0) {\n        return NoContentFound();\n      }\n    }\n    else if (fetchingPolicy) {\n      return (<>\n        <HeadingLoader/>\n        <DetailsLoader/>\n      </>)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"privacy-policy-wrapper static-content\">\n        {this.getRenderPrivacyPolicy()}\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { policy, policyError, fetchingPolicy, fetchedPolicy } = state.privacyPolicy;\n  return { policy, policyError, fetchingPolicy, fetchedPolicy }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getPrivacyPolicy: (language, country) => dispatch(getPrivacyPolicyAction.getPrivacyPolicy(language,country)),\n  }\n}\n\nconst connectedPrivacyPolicy = connect(mapStateToProps, mapDispatchToProps)(PrivacyPolicy);\n\nexport default  connectedPrivacyPolicy;"],"sourceRoot":""}