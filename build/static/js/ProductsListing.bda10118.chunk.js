(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{412:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return c}),a.d(t,"c",function(){return o}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return u});var n=a(1),r=a(0),s=a.n(r);function i(e,t){var a=e,r=[];return t&&0!==t.length||(r=e),t&&t.length>0&&e&&e.length>0&&a.forEach(function(e){var a=null;Object.prototype.hasOwnProperty.call(e,"userBookmarkStatus")||Object.prototype.hasOwnProperty.call(e,"userFavouriteStatus")||Object.prototype.hasOwnProperty.call(e,"favourites")||Object.prototype.hasOwnProperty.call(e,"bookmarks")||Object.prototype.hasOwnProperty.call(e,"status")?a=e:t.forEach(function(t){(Object.prototype.hasOwnProperty.call(e,"nid")&&e.nid===t.nid||Object.prototype.hasOwnProperty.call(e,"tid")&&e.tid===t.tid)&&(a=Object(n.a)({},e,t))}),r.push(a)}),r}function c(){return window.innerWidth<769?"xs":window.innerWidth<992&&window.innerWidth>768?"sm":window.innerWidth<1199&&window.innerWidth>991?"md":"lg"}function o(){return s.a.createElement("span",{className:"inline-loading"},s.a.createElement("span",null,"."),s.a.createElement("span",null,"."),s.a.createElement("span",null,"."))}function l(e,t){var a=e;return a&&0===a.length?t:t&&0!==t.length?(t.forEach(function(t,n){e.forEach(function(e,n){t.nid===e.nid&&(a[n]=t)})}),a):void 0}function u(){var e=localStorage.getItem("user"),t=JSON.parse(e);t&&!t.policyFlag&&document.getElementById("toolbar-administration")&&document.getElementById("toolbar-administration").remove()}},415:function(e,t,a){"use strict";var n=a(52),r=a(53),s=a(55),i=a(54),c=a(56),o=a(0),l=a.n(o),u=a(126),d=a(66),p=a.n(d),h=a(412),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={src:e.src?e.src:e.defaultImage,alt:"",title:"",status:!1},a.Image=l.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;if("IntersectionObserver"in window){var t=new IntersectionObserver(function(a,n){a.forEach(function(a){if(a.isIntersecting){var n=a.target;n.parentNode.classList.add("lazy-wrapper"),n.parentNode.classList.add("image-load"),n.src=e.state.src,n.parentNode.style.height=a.target.height+"px",n.classList.remove("lazy"),n.classList.add("lazy-item"),n.parentNode.classList.remove("lazy-wrapper"),n.parentNode.classList.remove("image-load"),n.parentNode.style.height=null,t.unobserve(n)}})});this.Img=t}}},{key:"componentDidMount",value:function(){this.Img.observe(this.Image.current)}},{key:"componentWillReceiveProps",value:function(e){this.setState({src:e.src?e.src:e.defaultImage})}},{key:"render",value:function(){return l.a.createElement("picture",{className:p()({banner:"banner"===this.props.type}),style:"lg"===Object(h.b)()&&"banner"===this.props.type?{backgroundImage:"url(".concat(this.props.imageLarge,")")}:{}},this.props.imageLarge&&l.a.createElement("source",{media:"(min-width: 1081px)",srcSet:this.props.imageLarge}),this.props.imageMedium&&l.a.createElement("source",{media:"(min-width: 769px)",srcSet:this.props.imageMedium}),l.a.createElement("img",{className:"lazy lazy-image",src:this.props.defaultImage?this.props.defaultImage:u.f,"data-src":this.state.src,alt:this.state.alt,ref:this.Image}))}}]),t}(o.Component);t.a=f},416:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),r=a.n(n);function s(e){return r.a.createElement("h1",{className:"no-data text-center"},e||"No Content Found")}},420:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(414),i=function(e){return r.a.createElement(s.a,{speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",className:"row"},r.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:e.width,height:e.height}))};i.defaultProps={height:0,width:0},t.a=i},421:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(414);t.a=function(){return r.a.createElement(s.a,{height:260,width:260,speed:2,primaryColor:"#f3eeed",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"8",y:"19",rx:"0",ry:"0",width:"245",height:"183"}),r.a.createElement("rect",{x:"8",y:"213",rx:"0",ry:"0",width:"245",height:"15"}),r.a.createElement("rect",{x:"67",y:"237",rx:"0",ry:"0",width:"125",height:"15"}))}},423:function(e,t,a){"use strict";var n=a(92),r=a(52),s=a(53),i=a(55),c=a(54),o=a(56),l=a(67),u=a(0),d=a.n(u),p=a(433),h=a(441),f=a(442),m=a(443),g=a(437),b=a(431),O=a(128),y=a(126),v=a(415),E=a(416),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).createMarkup=a.createMarkup.bind(Object(l.a)(Object(l.a)(a))),a.getRenderResults=a.getRenderResults.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"getRenderResults",value:function(){var e=this,t=this.props,a=t.items,r=t.type,s=t.showBrandTitle,i=Object(n.a)(t,["items","type","showBrandTitle"]),c="#";if("undefined"!==typeof r)switch(r){case"levels":c="/levels/";break;case"products":case"product":c="/product/";break;case"ingredients":case"ingredient":c="/ingredient/";break;case"news":c="/news/";break;default:c="#"}return a&&0!==a.length?a.map(function(t,a){return d.a.createElement(p.a,Object.assign({key:a,xs:12,sm:6,md:4,lg:3},i,{className:"list-item text-center"}),d.a.createElement(h.a,{className:"listing-block"},d.a.createElement(f.a,{href:"".concat(c).concat(t.nid?t.nid:t.tid)},d.a.createElement(v.a,{defaultImage:y.f,src:t.imageSmall})),d.a.createElement(m.a,{tag:"h2"},d.a.createElement(f.a,{href:"".concat(c).concat(t.nid?t.nid:t.tid),dangerouslySetInnerHTML:e.createMarkup(t.displayTitle&&t.displayTitle)})),s&&0!==t.brand&&d.a.createElement(g.a,{tag:"h3",className:"brand-title"},e.context[t.brand]),t.subTitle&&e.props.showSubTitle&&d.a.createElement(g.a,{className:"sub-title"},d.a.createElement(f.a,{href:"".concat(c).concat(t.categoryId||t.nid),dangerouslySetInnerHTML:e.createMarkup(t.subTitle)}))))}):Object(E.a)(this.props.noDataLabel)}},{key:"render",value:function(){var e=this;return d.a.createElement(O.b,null,function(){return d.a.createElement(b.a,{className:"section-content"},e.getRenderResults())})}}]),t}(u.Component);j.contextType=O.a,j.defaultProps={showBrandTitle:!0},t.a=j},429:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(433),i=a(431),c=a(126),o=a(421);function l(e){for(var t=[],a=0;a<c.c;a++)t.push(r.a.createElement(s.a,{xs:12,sm:6,md:4,lg:3,className:e.itemClass,key:"".concat(e.type,"_").concat(a)},r.a.createElement(o.a,null)));return r.a.createElement(i.a,null,t)}l.defaultProps={itemClass:"list-item",type:"loader",divClass:""},t.a=l},442:function(e,t,a){"use strict";var n=a(8),r=a(14),s=a(0),i=a.n(s),c=a(3),o=a.n(c),l=a(66),u=a.n(l),d=a(19),p={tag:d.m,innerRef:o.a.oneOfType([o.a.object,o.a.func,o.a.string]),className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,s=e.tag,c=e.innerRef,o=Object(r.a)(e,["className","cssModule","tag","innerRef"]),l=Object(d.i)(u()(t,"card-link"),a);return i.a.createElement(s,Object(n.a)({},o,{ref:c,className:l}))};h.propTypes=p,h.defaultProps={tag:"a"},t.a=h},468:function(e,t,a){"use strict";var n=a(38),r=a.n(n),s=a(57),i=Object(s.a)();var c={getProductsListing:function(e,t,a){return function(n){n({type:"FETCH_PRODUCTS_LIST"}),r.a.get("/api/v1/products?_format=json&limit=".concat(e,"&offset=").concat(t,"&brand=").concat(a),i).then(function(e){n({type:"FETCH_PRODUCTS_LIST_SUCCESS",payload:e})}).catch(function(e){n({type:"FETCH_PRODUCTS_LIST_FAILURE",payload:e.response}),n({type:"ADD_ERROR",payload:e})})}}};t.a=c},469:function(e,t,a){"use strict";var n=a(38),r=a.n(n),s=a(57),i=Object(s.a)();var c={getFeauredCarousel:function(e){return function(t){t({type:"FETCH_FEATURED_CAROUSEL"}),r.a.get("/api/v1/featuredCarousel?_format=json&type=".concat(e),i).then(function(e){t({type:"FETCH_FEATURED_CAROUSEL_SUCCESS",payload:e})}).catch(function(e){t({type:"FETCH_FEATURED_CAROUSEL_FAILURE",payload:e.response}),t({type:"ADD_ERROR",payload:e})})}}};t.a=c},470:function(e,t,a){},471:function(e,t,a){},474:function(e,t,a){"use strict";var n=a(52),r=a(53),s=a(55),i=a(54),c=a(56),o=a(67),l=a(0),u=a.n(l),d=a(426),p=a.n(d),h=a(412),f=a(555),m=a(574),g=a(556),b=a(557),O=(a(470),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleOption=function(e){var t=e.target.dataset.id;a.setState({currentOption:t}),a.props.handleSelect(t)},a.state={dropdownOpen:!1,currentOption:0,data:{0:"All"}},a.toggle=a.toggle.bind(Object(o.a)(Object(o.a)(a))),a.handleOption=a.handleOption.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.staticData[0]="All",this.setState({data:this.props.staticData}),this.props.selected&&this.setState({currentOption:this.props.selected})}},{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this,t=this.state.data[this.state.currentOption]?this.state.data[this.state.currentOption]:this.state.data[0];return u.a.createElement("div",{className:"select-filter"},u.a.createElement(f.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle,defaultValue:this.props.selected},u.a.createElement(m.a,null,t),u.a.createElement(g.a,null,Object.keys(this.state.data).map(function(t){return u.a.createElement(b.a,{key:t,id:"option-".concat(t),value:t,onClick:e.handleOption,"data-id":t},e.state.data[t])}))))}}]),t}(u.a.Component)),y=a(128),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).brandList=a.brandList.bind(Object(o.a)(Object(o.a)(a))),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"brandList",value:function(){var e=p.a.parse(window.location.search).brand,t=e||0;if("load"!==this.context[0]&&"nodata"!==this.context[0]){var a={},n=localStorage.getItem("user"),r=Object.assign({},this.context),s=JSON.parse(n),i=s.role;if(0!==i.length){var c=i.map(function(e){return e.rid});if(-1!==c.indexOf("administrator")||-1!==c.indexOf("el_nyo_global_education_system_admin"))a=this.context;else s.brands.forEach(function(e){return a[e]=r[e]})}return u.a.createElement(O,{staticData:a,handleSelect:this.props.getBrandId,selected:t})}if("load"===this.context[0])return u.a.createElement("div",{className:"text-center"},Object(h.c)())}},{key:"render",value:function(){var e=this;return u.a.createElement(y.b,null,function(){return u.a.createElement("div",{className:"brand-categories"},e.brandList())})}}]),t}(l.Component);v.contextType=y.a;t.a=v},554:function(e,t,a){"use strict";a.r(t);var n=a(424),r=a(52),s=a(53),i=a(55),c=a(54),o=a(56),l=a(67),u=a(0),d=a.n(u),p=a(76),h=a(66),f=a.n(h),m=a(426),g=a.n(m),b=a(431),O=a(468),y=a(469),v=a(423),E=a(416),j=a(126),w=a(415),L=a(127),C=a(429),S=a(474),k=a(420),I=(a(471),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={data:[],show:!1,fetched:!1,brandId:0},a.getListData=a.getListData.bind(Object(l.a)(Object(l.a)(a))),a.getNextPageContent=a.getNextPageContent.bind(Object(l.a)(Object(l.a)(a))),a.getBrandId=a.getBrandId.bind(Object(l.a)(Object(l.a)(a))),a.getSpotlight=a.getSpotlight.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=g.a.parse(this.props.location.search).brand,t=e||this.state.brandId;e&&0!==e.length&&this.setState({brandId:e}),this.props.getProductsListing(j.d,0,t),this.props.getSpotlight("product")}},{key:"getSpotlight",value:function(){var e=this.props,t=e.fetchingFeaturedCarousel,a=e.fetchedFeaturedCarousel,n=e.featuredCarousel;if(a&&n&&0!==n.results.length){var r=n.results[0],s=r.imageLarge,i=r.imageMedium,c=r.imageSmall;return d.a.createElement(w.a,{defaultImage:j.a,src:c||j.a,imageLarge:s||j.a,imageMedium:i||j.a,type:"banner"})}if(t)return d.a.createElement(k.a,{height:1920,width:1080})}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchingProductsList,a=e.fetchedProductsList,r=e.productsList,s=e.pager;a&&s&&this.state.fetched?(s.count>j.d?this.setState({show:!0}):this.setState({show:!1}),this.setState({data:[].concat(Object(n.a)(this.state.data),Object(n.a)(r.results)),is_disabled:!1,fetched:!1})):t&&this.setState({fetched:!0})}},{key:"getBrandId",value:function(e){this.setState({brandId:e,data:[]}),this.props.getProductsListing(j.d,0,e)}},{key:"getListData",value:function(){var e=this.props,t=e.fetchingProductsList,a=e.fetchedProductsList,n=e.status,r=this.state.data;if(r&&0!==r.length)return d.a.createElement(v.a,{items:r,type:"products"});if(a){if(0===r.length&&204===n)return Object(E.a)()}else if(t)return d.a.createElement(C.a,null)}},{key:"getNextPageContent",value:function(){var e=this.state.data.length;this.setState({is_disabled:!0}),this.props.getProductsListing(j.d,e,this.state.brandId)}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"products-listing"},d.a.createElement("div",{className:"banner-spotlight"},this.getSpotlight()),d.a.createElement(b.a,null,d.a.createElement("div",{className:"col content-header"},d.a.createElement("h1",{className:"page-title"},this.props.sectionHeading))),d.a.createElement("div",{className:"brands"},d.a.createElement(S.a,{getBrandId:function(t){return e.getBrandId(t)},defaultBrand:this.state.brandId})),this.getListData(),d.a.createElement(b.a,null,d.a.createElement("div",{className:f()("col more-link",{"d-none":!this.state.show})},d.a.createElement("button",{className:f()("btn btn-outline-secondary text-uppercase",{disabled:this.state.is_disabled}),onClick:this.getNextPageContent},this.props.seeMoreLabel))))}}]),t}(u.Component));I.defaultProps={sectionHeading:L.w,seeMoreLabel:L.v};var N=Object(p.b)(function(e){var t=e.productsListing,a=t.fetchingProductsList,n=t.fetchedProductsList,r=t.productsList,s=t.productListError,i=t.pager,c=t.status,o=e.featuredCarousel;return{fetchingProductsList:a,fetchedProductsList:n,productsList:r,productListError:s,pager:i,status:c,fetchingFeaturedCarousel:o.fetchingFeaturedCarousel,fetchedFeaturedCarousel:o.fetchedFeaturedCarousel,featuredCarousel:o.featuredCarousel,featuredCarouselError:o.featuredCarouselError}},function(e){return{getProductsListing:function(t,a,n){return e(O.a.getProductsListing(t,a,n))},getSpotlight:function(t){return e(y.a.getFeauredCarousel(t))}}})(I);t.default=N}}]);
//# sourceMappingURL=ProductsListing.bda10118.chunk.js.map