{"version":3,"sources":["js/components/Ingredients/IngredientsDetails/ingredientsDetails.actions.js","js/components/Ingredients/IngredientsDetails/IngredientsDetails.js"],"names":["config","getAuthorization","getIngredientsDetailsActions","getIngredientDetails","nid","dispatch","type","axios","get","concat","then","response","payload","catch","error","IngredientDetails","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getIngredientDetailsTemplate","bind","assertThisInitialized","match","params","_this$props","fetchingIngredientDetail","fetchedIngredientDetail","ingredientDetail","length","data","react_default","a","createElement","Fragment","Row","imageLarge","LazyImages","defaultImage","BANNER_DEFAULT","src","imageSmall","imageMedium","className","react_router_dom","to","pageTitle","displayTitle","subTitle","dangerouslySetInnerHTML","__html","story","storyLabel","products","KeyNotes","items","header","featuredLabel","BannerLoader","height","width","DetailsLoader","Component","defaultProps","INGREDIENT_LIBRARY","INGREDIENT_STORY_LABEL","INGREDIENT_FEATURED_LABEL","connectedIngredientDetails","connect","state","_state$ingredientDeta","ingredientDetails","ingredientDetailsError","getIngredientsListingActions"],"mappings":"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","file":"static/js/IngredientDetail.90d3b4cb.chunk.js","sourcesContent":["import axios from 'axios';\nimport { getAuthorization } from '../../../helpers/authorization';\n\nconst config = getAuthorization();\n\nfunction getIngredientDetails(nid) {\n  return ((dispatch) => {\n    dispatch({ type: 'FETCH_INGREDIENT_DETAIL' });\n    axios.get(`/api/v1/ingredient?_format=json&nid=${nid}`, config)\n    .then((response) => {\n      dispatch({ type: 'FETCH_INGREDIENT_DETAIL_SUCCESS', payload: response });\n    })\n    .catch((error) => {\n      dispatch({ type: 'FETCH_INGREDIENT_DETAIL_FAILURE', payload: error.response });\n      dispatch({ type: \"ADD_ERROR\", payload: error });\n    })\n  });\n}\n\nconst getIngredientsDetailsActions = {\n  getIngredientDetails,\n};\n\nexport default getIngredientsDetailsActions;\n","/* Import Core Libraries */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\n/* Import Custom Libraries */\nimport getIngredientsListingActions from './ingredientsDetails.actions';\nimport LazyImages from '../../Common/LazyImages';\nimport BannerLoader from '../../Loaders/BannerLoader';\nimport DetailsLoader from '../../Loaders/DetailsLoader';\nimport { BANNER_DEFAULT } from '../../../helpers/appConstants';\nimport Keynotes from '../../KeyNotes/KeyNotes';\nimport {\n  INGREDIENT_LIBRARY,\n  INGREDIENT_STORY_LABEL,\n  INGREDIENT_FEATURED_LABEL } from '../../../helpers/translations';\nimport '../../../../sass/components/ingredients.scss';\n\nclass IngredientDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getIngredientDetailsTemplate = this.getIngredientDetailsTemplate.bind(this);\n  }\n\n  componentDidMount() {\n    const { nid } = this.props.match.params;\n\n    this.props.getIngredientDetails(nid);\n  }\n\n  getIngredientDetailsTemplate() {\n    const { fetchingIngredientDetail, fetchedIngredientDetail, ingredientDetail } = this.props;\n\n    if (fetchedIngredientDetail) {\n      if (ingredientDetail && ingredientDetail.length !== 0) {\n        const data = ingredientDetail[0];\n        return (\n          <>\n            <Row>\n              {data.imageLarge &&\n                <LazyImages\n                  defaultImage={BANNER_DEFAULT}\n                  src={data.imageSmall ? data.imageSmall : BANNER_DEFAULT}\n                  imageLarge={data.imageLarge ? data.imageLarge : BANNER_DEFAULT}\n                  imageMedium={data.imageMedium ? data.imageMedium : BANNER_DEFAULT}\n                  type={'banner'}\n                  />\n              }\n            </Row>\n            <Row>\n              <article className=\"ingredient text-center\">\n                <div className=\"information\">\n                  <p className=\"sub-heading brand-title\">\n                    <Link to={`/ingredients`}>\n                      {this.props.pageTitle}\n                    </Link>\n                  </p>\n                  {data.displayTitle &&\n                    <h2 className=\"page-title\">\n                      {data.displayTitle}\n                    </h2>\n                  }\n                </div>\n                {data.subTitle &&\n                  <div className=\"summary info\">\n                    <div className=\"description\" dangerouslySetInnerHTML={{ __html: data.subTitle }} />\n                  </div>\n                }\n                {data.story &&\n                  <div className=\"story info\">\n                    <h2 className=\"section-title\">{this.props.storyLabel}</h2>\n                    <div className=\"description\" dangerouslySetInnerHTML={{ __html: data.story }} />\n                  </div>\n                }\n                {data.products.length !==0 &&\n                  <Keynotes type='product' items={data.products} header={this.props.featuredLabel} />\n                }\n              </article>\n            </Row>\n          </>\n        )\n      }\n    }\n    else if (fetchingIngredientDetail) {\n      return (\n        <>\n          <BannerLoader height={1920} width={1080} />\n          <DetailsLoader />\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"ingredient-details\">\n        {this.getIngredientDetailsTemplate()}\n      </div>\n    )\n  }\n}\n\nIngredientDetails.propTypes = {\n  pageTitle: PropTypes.string,\n  storyLabel: PropTypes.string,\n  featuredLabel: PropTypes.string\n}\n\nIngredientDetails.defaultProps = {\n  pageTitle: INGREDIENT_LIBRARY,\n  storyLabel: INGREDIENT_STORY_LABEL,\n  featuredLabel: INGREDIENT_FEATURED_LABEL\n};\n\nfunction mapStateToProps(state) {\n  const { fetchingIngredientDetail, fetchedIngredientDetail, ingredientDetail, ingredientDetailsError } = state.ingredientDetails;\n\n  return { fetchingIngredientDetail, fetchedIngredientDetail, ingredientDetail, ingredientDetailsError }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getIngredientDetails: (nid) => dispatch(getIngredientsListingActions.getIngredientDetails(nid)),\n  }\n}\n\nconst connectedIngredientDetails = connect(mapStateToProps, mapDispatchToProps)(IngredientDetails);\n\nexport default connectedIngredientDetails;\n"],"sourceRoot":""}