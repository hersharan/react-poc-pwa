{"version":3,"sources":["js/helpers/utils.js","js/components/Common/LazyImages.js","js/components/Loaders/BannerLoader.js","js/components/Loaders/DetailsLoader.js","js/components/Trendings/TrendingDetails/trendingDetails.actions.js","js/components/Trendings/TrendingDetails/TrendingDetails.js"],"names":["filterData","data","activities","newData","filteredData","length","forEach","item","node","Object","prototype","hasOwnProperty","call","activity","nid","tid","_Users_hersharan_kaur_Documents_react_poc_pwa_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","push","getBrowserWidth","window","innerWidth","inlineLoading","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","replaceData","newdata","actualData","i","itm","j","removeDrupalToolbar","user","localStorage","getItem","userDetails","JSON","parse","policyFlag","document","getElementById","remove","formatBytes","bytes","decimals","arguments","undefined","dm","Math","floor","log","parseFloat","pow","toFixed","getStorageLimit","dispatch","navigator","storage","estimate","then","msg","concat","usage","quota","type","payload","LazyImages","props","_this","_Users_hersharan_kaur_Documents_react_poc_pwa_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_hersharan_kaur_Documents_react_poc_pwa_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_hersharan_kaur_Documents_react_poc_pwa_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","state","src","defaultImage","alt","title","status","Image","React","createRef","currentElement","lazyImageObserver","IntersectionObserver","entries","observer","entry","isIntersecting","lazyImage","target","parentNode","classList","add","style","height","unobserve","Img","observe","current","nextProps","setState","react__WEBPACK_IMPORTED_MODULE_5___default","classnames","banner","default","completed","backgroundImage","imageLarge","media","srcSet","imageMedium","TEMPLATE_DEFAULT","data-src","ref","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_content_loader__WEBPACK_IMPORTED_MODULE_1__","BannerLoader","speed","primaryColor","secondaryColor","x","y","rx","ry","width","defaultProps","DetailsLoader","config","getAuthorization","getTrendingDetailsActions","getStory","preview","language","axios","get","response","catch","error","message","TrendingDetails","classCallCheck","possibleConstructorReturn","getPrototypeOf","story","getTrendingDetailsTemplate","bind","assertThisInitialized","match","params","parsed","queryString","location","search","__html","_this$props","results","fetchingStory","fetchedStory","react_default","BANNER_DEFAULT","imageSmall","dangerouslySetInnerHTML","createMarkup","displayTitle","Col","xs","body","Fragment","connectedTrendingDetails","connect","_state$trendingDetail","trendingDetails","fetchedStoryError","propsFromState","propsFromDispatch","ownProps","objectSpread","sections","countEnable"],"mappings":"qTAyBO,SAASA,EAAWC,EAAMC,GAC/B,IAAMC,EAAUF,EACZG,EAAe,GA0BnB,OAzBKF,GAAoC,IAAtBA,EAAWG,SAC5BD,EAAeH,GAEbC,GAAcA,EAAWG,OAAS,GAAKJ,GAAQA,EAAKI,OAAS,GAC/DF,EAAQG,QAAQ,SAACC,GACf,IAAIC,EAAO,KACPC,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,uBAC1CE,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,wBAC3CE,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,eAC3CE,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,cAC3CE,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,UAC9CC,EAAOD,EAEPL,EAAWI,QAAQ,SAACO,IACbJ,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,QAAUA,EAAKO,MAAQD,EAASC,KAC1EL,OAAOC,UAAUC,eAAeC,KAAKL,EAAM,QAAUA,EAAKQ,MAAQF,EAASE,OAC/EP,EAAIC,OAAAO,EAAA,EAAAP,CAAA,GAAQF,EAASM,MAK3BT,EAAaa,KAAKT,KAIfJ,EAGF,SAASc,IACd,OAAIC,OAAOC,WAAa,IAAY,KAChCD,OAAOC,WAAa,KAAOD,OAAOC,WAAa,IAAY,KAC3DD,OAAOC,WAAa,MAAQD,OAAOC,WAAa,IAAY,KACzD,KAwBF,SAASC,IACd,OAAOC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAiBH,EAAAC,EAAAC,cAAA,iBAAcF,EAAAC,EAAAC,cAAA,iBAAcF,EAAAC,EAAAC,cAAA,kBA8C/D,SAASE,EAAYzB,EAAM0B,GAChC,IAAIC,EAAa3B,EACjB,OAAI2B,GAAoC,IAAtBA,EAAWvB,OACpBsB,EAEAA,GAA8B,IAAnBA,EAAQtB,QAC1BsB,EAAQrB,QAAQ,SAACC,EAAMsB,GACrB5B,EAAKK,QAAQ,SAACwB,EAAKC,GACbxB,EAAKO,MAAQgB,EAAIhB,MACnBc,EAAWG,GAAKxB,OAKfqB,QATJ,EAaA,SAASI,IACd,IAAMC,EAAOC,aAAaC,QAAQ,QAC5BC,EAAcC,KAAKC,MAAML,GAC3BG,IAAgBA,EAAYG,YAE1BC,SAASC,eAAe,2BAC1BD,SAASC,eAAe,0BAA0BC,SAKxD,SAASC,EAAYC,GAAqB,IAAdC,EAAcC,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACrC,GAAc,IAAVF,EAAa,MAAO,UAExB,IACMI,EAAKH,EAAW,EAAI,EAAIA,EAGxBhB,EAAIoB,KAAKC,MAAMD,KAAKE,IAAIP,GAASK,KAAKE,IAJlC,OAMV,OAAOC,YAAYR,EAAQK,KAAKI,IANtB,KAM6BxB,IAAIyB,QAAQN,IAAO,IAJ5C,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAIInB,GAGjE,SAAS0B,IACd,OAAQ,SAACC,GACH,YAAaC,WAAa,aAAcA,UAAUC,QACpDD,UAAUC,QAAQC,WACfC,KAAK,SAAUD,GACd,IAAI1D,EAAO,CACT4D,IAAG,SAAAC,OAAWnB,EAAYgB,EAASI,OAAhC,YAAAD,OAAiDnB,EAAYgB,EAASK,OAAtE,WACHL,SAAUA,GAEZH,EAAS,CAAES,KAAM,sBAAuBC,QAASjE,MAGrDuD,EAAS,CAAES,KAAM,sBAAuBC,QAAS,yIC3KjDC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAA5D,OAAA6D,EAAA,EAAA7D,CAAA8D,KAAAJ,IACjBE,EAAA5D,OAAA+D,EAAA,EAAA/D,CAAA8D,KAAA9D,OAAAgE,EAAA,EAAAhE,CAAA0D,GAAAvD,KAAA2D,KAAMH,KACDM,MAAQ,CACXC,IAAKP,EAAMO,IAAMP,EAAMO,IAAMP,EAAMQ,aACnCC,IAAK,GACLC,MAAO,GACPC,QAAQ,GAGVV,EAAKW,MAAQC,IAAMC,YATFb,oFAajB,IAAIc,EAAiBZ,KAErB,GAAI,yBAA0BpD,OAAQ,CACpC,IAAIiE,EAAoB,IAAIC,qBAAqB,SAC/CC,EACAC,GAEAD,EAAQhF,QAAQ,SAASkF,GACvB,GAAIA,EAAMC,eAAgB,CACxB,IAAIC,EAAYF,EAAMG,OACtBD,EAAUE,WAAWC,UAAUC,IAAI,gBACnCJ,EAAUE,WAAWC,UAAUC,IAAI,cACnCJ,EAAUf,IAAMQ,EAAeT,MAAMC,IACrCe,EAAUE,WAAWG,MAAMC,OAASR,EAAMG,OAAOK,OAAS,KAC1DN,EAAUG,UAAUnD,OAAO,QAC3BgD,EAAUG,UAAUC,IAAI,aACxBJ,EAAUE,WAAWC,UAAUnD,OAAO,gBACtCgD,EAAUE,WAAWC,UAAUnD,OAAO,cACtCgD,EAAUE,WAAWG,MAAMC,OAAS,KACpCZ,EAAkBa,UAAUP,QAKlCnB,KAAK2B,IAAMd,+CAKbb,KAAK2B,IAAIC,QAAQ5B,KAAKS,MAAMoB,2DAGJC,GACxB9B,KAAK+B,SAAS,CACZ3B,IAAK0B,EAAU1B,IAAM0B,EAAU1B,IAAM0B,EAAUzB,gDAMjD,OACE2B,EAAAhF,EAAAC,cAAA,WACEC,UAAW+E,IACT,CAAEC,OAA8B,WAApBlC,KAAKH,MAAMH,MACvB,CAAEyC,QAAWnC,KAAKH,MAAMO,MAAQJ,KAAKH,MAAMQ,cAC3C,CAAE+B,UAAapC,KAAKH,MAAMuC,YAE5BZ,MACwB,OAAtB7E,eAAkD,WAApBqD,KAAKH,MAAMH,KACrC,CAAE2C,gBAAe,OAAA9C,OAASS,KAAKH,MAAMyC,WAApB,MACjB,IAGLtC,KAAKH,MAAMyC,YACVN,EAAAhF,EAAAC,cAAA,UAAQsF,MAAM,sBAAsBC,OAAQxC,KAAKH,MAAMyC,aAExDtC,KAAKH,MAAM4C,aACVT,EAAAhF,EAAAC,cAAA,UAAQsF,MAAM,qBAAqBC,OAAQxC,KAAKH,MAAM4C,cAExDT,EAAAhF,EAAAC,cAAA,OACEC,UAAS,kBACTkD,IACEJ,KAAKH,MAAMQ,aAAeL,KAAKH,MAAMQ,aAAeqC,IAEtDC,WAAU3C,KAAKG,MAAMC,IACrBE,IAAKN,KAAKG,MAAMG,IAChBsC,IAAK5C,KAAKS,gBAhFKoC,aA4FVjD,wCCzGf,IAAAkD,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAIMI,EAAe,SAACtD,GAAD,OACnBmD,EAAAhG,EAAAC,cAACiG,EAAA,EAAD,CACEE,MAAO,EACPC,aAAa,UACbC,eAAe,UACfpG,UAAU,OAEV8F,EAAAhG,EAAAC,cAAA,QAAMsG,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIC,MAAO9D,EAAM8D,MAAOlC,OAAQ5B,EAAM4B,WAStE0B,EAAaS,aAAe,CAC1BnC,OAAQ,EACRkC,MAAO,GAGMR,wCCzBf,IAAAL,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAIMc,EAAgB,SAAChE,GAAD,OACpBmD,EAAAhG,EAAAC,cAACiG,EAAA,EAAD,CACEzB,OAAQ,IACRkC,MAAO,IACPP,MAAO,EACPC,aAAa,UACbC,eAAe,WAEfN,EAAAhG,EAAAC,cAAA,QAAMsG,EAAE,MAAMC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIC,MAAM,KAAKlC,OAAO,MACrDuB,EAAAhG,EAAAC,cAAA,QAAMsG,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIC,MAAM,MAAMlC,OAAO,MACpDuB,EAAAhG,EAAAC,cAAA,QAAMsG,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIC,MAAM,MAAMlC,OAAO,MACpDuB,EAAAhG,EAAAC,cAAA,QAAMsG,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAIC,MAAM,MAAMlC,OAAO,QASxDoC,EAAcD,aAAe,CAC3BnC,OAAQ,EACRkC,MAAO,GAGME,2MC1BTC,EAASC,cAkBf,IAIeC,EAJmB,CAChCC,SAhBF,SAAkB1H,EAAK2H,EAASC,GAC9B,OAAQ,SAAClF,GAEPA,EAAS,CAAES,KAAM,wBACjB0E,IAAMC,IAAN,kCAAA9E,OAA4ChD,GAAOuH,GAChDzE,KAAK,SAACiF,GACLrF,EAAS,CAAES,KAAM,8BAA+BC,QAAS2E,EAAS5I,SAEnE6I,MAAM,SAACC,GACNvF,EAAS,CAAES,KAAM,8BAA+BC,QAAS6E,EAAMF,SAAS5I,KAAK+I,UAC7ExF,EAAS,CAAES,KAAM,YAAaC,QAAS6E,6CCKzCE,sBACJ,SAAAA,EAAY7E,GAAO,IAAAC,EAAA,OAAA5D,OAAAyI,EAAA,EAAAzI,CAAA8D,KAAA0E,IACjB5E,EAAA5D,OAAA0I,EAAA,EAAA1I,CAAA8D,KAAA9D,OAAA2I,EAAA,EAAA3I,CAAAwI,GAAArI,KAAA2D,KAAMH,KACDM,MAAQ,CACX2E,MAAOjF,EAAMiF,MACbvI,IAAK,KACL2H,QAAS,GAGXpE,EAAKiF,2BAA6BjF,EAAKiF,2BAA2BC,KAAhC9I,OAAA+I,EAAA,EAAA/I,CAAA4D,IARjBA,mFAWC,IACVvD,EAAQyD,KAAKH,MAAMqF,MAAMC,OAAzB5I,IACF6I,EAASC,IAAYtH,MAAMiC,KAAKH,MAAMyF,SAASC,QAC7CrB,EAAsBkB,EAAtBlB,QAASC,EAAaiB,EAAbjB,SACbD,GAAW3H,GACbyD,KAAK+B,SAAS,CACZmC,QAASA,EACT3H,IAAKA,IAITyD,KAAKH,MAAMoE,SAAS1H,EAAK2H,EAASC,wCAGvBzI,GACX,MAAO,CAAE8J,OAAQ9J,wDAGU,IAAA+J,EACsBzF,KAAKH,MAA9C6F,EADmBD,EACnBC,QAASC,EADUF,EACVE,cACXb,EAAQY,EACd,GAH2BD,EACKG,cAG9B,GAAIF,GAA8B,IAAnBA,EAAQ5J,OACrB,OACE+J,EAAA7I,EAAAC,cAAA,OAAKC,UAAU,iBACb2I,EAAA7I,EAAAC,cAAA,OAAKC,UAAU,6BACb2I,EAAA7I,EAAAC,cAAC2C,EAAA,EAAD,CACES,aAAcyF,IACd1F,IAAK0E,EAAMiB,WAAajB,EAAMiB,WAAaD,IAC3CxD,WAAYwC,EAAMxC,WAAawC,EAAMxC,WAAawD,IAClDrD,YAAaqC,EAAMrC,YAAcqC,EAAMrC,YAAcqD,IACrDpG,KAAM,WAERmG,EAAA7I,EAAAC,cAAA,OAAKC,UAAU,4BACb2I,EAAA7I,EAAAC,cAAA,MAAIC,UAAU,aAAa8I,wBAAyBhG,KAAKiG,aAAanB,EAAMoB,kBAGhFL,EAAA7I,EAAAC,cAAA,OAAKC,UAAU,0BACb2I,EAAA7I,EAAAC,cAACkJ,EAAA,EAAD,CAAKC,GAAI,GAAIJ,wBAAyBhG,KAAKiG,aAAanB,EAAMuB,eAMnE,GAAIV,EACP,OACEE,EAAA7I,EAAAC,cAAA4I,EAAA7I,EAAAsJ,SAAA,KACET,EAAA7I,EAAAC,cAACkG,EAAA,EAAD,CAAc1B,OAAQ,KAAMkC,MAAO,OACnCkC,EAAA7I,EAAAC,cAAC4G,EAAA,EAAD,wCAON,OACEgC,EAAA7I,EAAAC,cAAA,OAAKC,UAAU,2BACZ8C,KAAK+E,qCArEgBlC,cAiF9B,IAkBM0D,EAA2BC,YAxBjC,SAAyBrG,GAAO,IAAAsG,EACoCtG,EAAMuG,gBAExE,MAAO,CAAE5B,MAHqB2B,EACtB3B,MAEQa,cAHcc,EACfd,cAEgBC,aAHDa,EACAb,aAEee,kBAHfF,EACcE,oBAKnB,SAAC1H,GAC1B,MAAO,CACLgF,SAAU,SAAC1H,EAAK2H,EAASC,GAAf,OAA4BlF,EAAS+E,EAA0BC,SAAS1H,EAAK2H,EAASC,OAKjF,SAACyC,EAAgBC,EAAmBC,GACrD,OAAO5K,OAAA6K,EAAA,EAAA7K,CAAA,GACF0K,EACAC,EACAC,EAHL,CAIEpB,QAASkB,EAAe9B,MAAMY,QAC9BsB,UAAU,EACVC,aAAa,KAIgBT,CAAyD9B,GAE3E6B","file":"js/NewsDetail.a2237d0c.bundle.js","sourcesContent":["import React from 'react';\n\n/*\n* Tabs on scroll handling.\n*  It fixes the tabs on scroll near the header.\n*\n*/\nexport function handleScroll() {\n  window.addEventListener('load', () => {\n    const navbar = document.getElementsByClassName('nav-tabs');\n    // Get the offset position of the navbar\n    const sticky = navbar[0].offsetTop;\n    window.addEventListener('scroll', () => {\n      const { scrollTop } = document.documentElement;\n      if (scrollTop > (sticky - 70)) {\n        navbar[0].classList.add('nav-fixed');\n        navbar[0].parentNode.classList.add('child-fixed');\n      } else {\n        navbar[0].classList.remove('nav-fixed');\n        navbar[0].parentNode.classList.remove('child-fixed');\n      }\n    });\n  });\n}\n\nexport function filterData(data, activities) {\n  const newData = data;\n  let filteredData = [];\n  if (!activities || activities.length === 0) {\n    filteredData = data;\n  }\n  if (activities && activities.length > 0 && data && data.length > 0) {\n    newData.forEach((item) => {\n      let node = null;\n      if (Object.prototype.hasOwnProperty.call(item, 'userBookmarkStatus')\n        || Object.prototype.hasOwnProperty.call(item, 'userFavouriteStatus')\n        || Object.prototype.hasOwnProperty.call(item, 'favourites')\n        || Object.prototype.hasOwnProperty.call(item, 'bookmarks')\n        || Object.prototype.hasOwnProperty.call(item, 'status')) {\n        node = item;\n      } else {\n        activities.forEach((activity) => {\n          if ((Object.prototype.hasOwnProperty.call(item, 'nid') && item.nid === activity.nid)\n            || (Object.prototype.hasOwnProperty.call(item, 'tid') && item.tid === activity.tid)) {\n            node = { ...item, ...activity };\n          }\n        });\n      }\n\n      filteredData.push(node);\n    });\n  }\n\n  return filteredData;\n}\n\nexport function getBrowserWidth() {\n  if (window.innerWidth < 769) return 'xs';\n  if (window.innerWidth < 992 && window.innerWidth > 768) return 'sm';\n  if (window.innerWidth < 1199 && window.innerWidth > 991) return 'md';\n  return 'lg';\n};\n\nexport function getUrlByContentType(type, nid, tid) {\n  let link = '';\n  if (type === 'product_detail') {\n    link = \"/product/\" + nid\n  }\n  else if (type === 'level_interactive_content') {\n    link = \"/interactive-content/\" + nid\n  }\n  else if (type === 'tools' || type === 'tools-pdf') {\n    if (tid && tid !== null) {\n      link = `/folders/${tid}/${nid}`\n    } else {\n      link = \"/folders/\" + nid\n    }\n  }\n  else if (type === 'stories') {\n    link = \"/trending/\" + nid;\n  }\n  return link;\n}\n\nexport function inlineLoading() {\n  return <span className=\"inline-loading\"><span>.</span><span>.</span><span>.</span></span>\n}\n\n// attach the .equals method to Array's prototype to call it on any array\nexport function compareArray(array1, array2) {\n  // if the other array is a falsy value, return\n  if (!array2)\n    return false;\n\n  // compare lengths - can save a lot of time\n  if (array1.length !== array2.length)\n    return false;\n\n  for (var i = 0, l = array1.length; i < l; i++) {\n    // Check if we have nested arrays\n    if (array1[i] instanceof Array && array2[i] instanceof Array) {\n      // recurse into the nested arrays\n      if (!compareArray(array1[i], array2[i]))\n        return false;\n    }\n    else if (array1[i] !== array2[i]) {\n      // Warning - two different object instances will never be equal: {x:20} != {x:20}\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function uniqueData(data) {\n  let flags = [], output = [], l = data.length - 1, i;\n  let filteredData = data.filter((item) => {\n    return item !== null;\n  })\n  if (filteredData && filteredData.length !== 0) {\n    for (i = l; i >= 0; i--) {\n      if (flags[filteredData[i].nid]) continue;\n      flags[filteredData[i].nid] = true;\n      output.push(filteredData[i]);\n    }\n  }\n\n  return output;\n}\n\n\nexport function replaceData(data, newdata) {\n  let actualData = data;\n  if (actualData && actualData.length === 0) {\n    return newdata;\n  }\n  else if (newdata && newdata.length !== 0) {\n    newdata.forEach((item, i) => {\n      data.forEach((itm, j) => {\n        if (item.nid === itm.nid) {\n          actualData[j] = item;\n        }\n      })\n    })\n\n    return actualData;\n  }\n}\n\nexport function removeDrupalToolbar() {\n  const user = localStorage.getItem('user');\n  const userDetails = JSON.parse(user);\n  if (userDetails && !userDetails.policyFlag) {\n    // if Drupal Admin bar presents then remove.\n    if (document.getElementById('toolbar-administration')) {\n      document.getElementById('toolbar-administration').remove();\n    }\n  }\n}\n\nfunction formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\nexport function getStorageLimit() {\n  return ((dispatch) => {\n    if ('storage' in navigator && 'estimate' in navigator.storage) {\n      navigator.storage.estimate()\n        .then(function (estimate) {\n          let data = {\n            msg: `Using ${formatBytes(estimate.usage)} out of ${formatBytes(estimate.quota)} bytes.`,\n            estimate: estimate,\n          };\n          dispatch({ type: 'FETCH_BROWSER_CACHE', payload: data });\n        });\n    } else {\n      dispatch({ type: 'FETCH_BROWSER_CACHE', payload: null });\n    }\n  })\n}","/*\n  Provide Lazy Loadings Images.\n\n  Props:\n  defaultImage:<String> default imaage path if no file uploaded.\n  src:<String> the image src path of the uploaded file.\n*/\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TEMPLATE_DEFAULT } from \"../../helpers/appConstants\";\nimport classnames from \"classnames\";\nimport { getBrowserWidth } from \"../../helpers/utils\";\n\nclass LazyImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      src: props.src ? props.src : props.defaultImage,\n      alt: \"\",\n      title: \"\",\n      status: false\n    };\n\n    this.Image = React.createRef();\n  }\n\n  componentWillMount() {\n    let currentElement = this;\n\n    if (\"IntersectionObserver\" in window) {\n      let lazyImageObserver = new IntersectionObserver(function(\n        entries,\n        observer\n      ) {\n        entries.forEach(function(entry) {\n          if (entry.isIntersecting) {\n            let lazyImage = entry.target;\n            lazyImage.parentNode.classList.add(\"lazy-wrapper\");\n            lazyImage.parentNode.classList.add(\"image-load\");\n            lazyImage.src = currentElement.state.src;\n            lazyImage.parentNode.style.height = entry.target.height + \"px\";\n            lazyImage.classList.remove(\"lazy\");\n            lazyImage.classList.add(\"lazy-item\");\n            lazyImage.parentNode.classList.remove(\"lazy-wrapper\");\n            lazyImage.parentNode.classList.remove(\"image-load\");\n            lazyImage.parentNode.style.height = null;\n            lazyImageObserver.unobserve(lazyImage);\n          }\n        });\n      });\n\n      this.Img = lazyImageObserver;\n    }\n  }\n\n  componentDidMount() {\n    this.Img.observe(this.Image.current);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      src: nextProps.src ? nextProps.src : nextProps.defaultImage\n    });\n  }\n\n  // Categories Listing\n  render() {\n    return (\n      <picture\n        className={classnames(\n          { 'banner': this.props.type === \"banner\" },\n          { 'default': this.props.src === this.props.defaultImage },\n          { 'completed': this.props.completed }\n        )}\n        style={\n          getBrowserWidth() === \"lg\" && this.props.type === \"banner\"\n            ? { backgroundImage: `url(${this.props.imageLarge})` }\n            : {}\n        }\n      >\n        {this.props.imageLarge && (\n          <source media=\"(min-width: 1081px)\" srcSet={this.props.imageLarge} />\n        )}\n        {this.props.imageMedium && (\n          <source media=\"(min-width: 769px)\" srcSet={this.props.imageMedium} />\n        )}\n        <img\n          className={`lazy lazy-image`}\n          src={\n            this.props.defaultImage ? this.props.defaultImage : TEMPLATE_DEFAULT\n          }\n          data-src={this.state.src}\n          alt={this.state.alt}\n          ref={this.Image}\n        />\n      </picture>\n    );\n  }\n}\n\nLazyImages.propTypes = {\n  src: PropTypes.string,\n  defaultImage: PropTypes.string\n};\n\nexport default LazyImages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentLoader from \"react-content-loader\";\n\nconst BannerLoader = (props) => (\n  <ContentLoader\n    speed={2}\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n    className=\"row\"\n  >\n    <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width={props.width} height={props.height} />\n  </ContentLoader>\n);\n\nBannerLoader.propTypes = {\n  height: PropTypes.number,\n  width: PropTypes.number,\n}\n\nBannerLoader.defaultProps = {\n  height: 0,\n  width: 0,\n};\n\nexport default BannerLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentLoader from \"react-content-loader\";\n\nconst DetailsLoader = (props) => (\n  <ContentLoader\n    height={200}\n    width={400}\n    speed={2}\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n  >\n    <rect x=\"170\" y=\"20\" rx=\"0\" ry=\"0\" width=\"70\" height=\"8\" />\n    <rect x=\"0\" y=\"70\" rx=\"2\" ry=\"2\" width=\"300\" height=\"3\" />\n    <rect x=\"0\" y=\"50\" rx=\"2\" ry=\"2\" width=\"250\" height=\"3\" />\n    <rect x=\"0\" y=\"90\" rx=\"2\" ry=\"2\" width=\"200\" height=\"3\" />\n  </ContentLoader>\n);\n\nDetailsLoader.propTypes = {\n  height: PropTypes.number,\n  width: PropTypes.number,\n}\n\nDetailsLoader.defaultProps = {\n  height: 0,\n  width: 0,\n};\n\nexport default DetailsLoader;","import axios from 'axios';\nimport { getAuthorization } from '../../../helpers/authorization';\n\nconst config = getAuthorization();\n\n// to get details of a particular story\nfunction getStory(nid, preview, language) {\n  return ((dispatch) => {\n    // const previewQuery = preview ? `&preview=1&language=${language}` : '';\n    dispatch({ type: 'FETCH_STORY_DETAILS' });\n    axios.get(`/api/v1/story?_format=json&nid=${nid}`, config)\n      .then((response) => {\n        dispatch({ type: 'FETCH_STORY_DETAILS_SUCCESS', payload: response.data });\n      })\n      .catch((error) => {\n        dispatch({ type: 'FETCH_STORY_DETAILS_FAILURE', payload: error.response.data.message });\n        dispatch({ type: \"ADD_ERROR\", payload: error })\n      });\n  });\n}\n\nconst getTrendingDetailsActions = {\n  getStory,\n};\n\nexport default getTrendingDetailsActions;\n","/*\n  provide trending stories details.\n\n  Redux Store Props:\n    story: <Array> data for story.\n    fetchingStory: <Boolean> flag to specify if api is fetching story,\n    fetchedStory: <Boolean> flag to specify if api has fetched story,\n    error: <String/ANY> a message from api detailing about error encountered.\n*/\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Col } from 'reactstrap';\nimport queryString from 'query-string';\n\nimport getTrendingDetailsActions from './trendingDetails.actions';\nimport LazyImages from '../../Common/LazyImages';\nimport { BANNER_DEFAULT } from '../../../helpers/appConstants';\nimport BannerLoader from '../../Loaders/BannerLoader';\nimport DetailsLoader from '../../Loaders/DetailsLoader';\nimport '../../../../sass/components/trending-stories.scss';\n\nclass TrendingDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      story: props.story,\n      nid: null,\n      preview: 0,\n    };\n\n    this.getTrendingDetailsTemplate = this.getTrendingDetailsTemplate.bind(this);\n  }\n\n  componentDidMount() {\n    const { nid } = this.props.match.params;\n    const parsed = queryString.parse(this.props.location.search);\n    const { preview, language } = parsed;\n    if (preview && nid) {\n      this.setState({\n        preview: preview,\n        nid: nid,\n      })\n    }\n\n    this.props.getStory(nid, preview, language);\n  }\n\n  createMarkup(data) {\n    return { __html: data };\n  }\n\n  getTrendingDetailsTemplate() {\n    const { results, fetchingStory, fetchedStory } = this.props;\n    const story = results;\n    if (fetchedStory) {\n      if (results && results.length !== 0) {\n        return (\n          <div className=\"story-details\">\n            <div className=\"story-content text-center\">\n              <LazyImages\n                defaultImage={BANNER_DEFAULT}\n                src={story.imageSmall ? story.imageSmall : BANNER_DEFAULT}\n                imageLarge={story.imageLarge ? story.imageLarge : BANNER_DEFAULT}\n                imageMedium={story.imageMedium ? story.imageMedium : BANNER_DEFAULT}\n                type={'banner'}\n              />\n              <div className=\"heading carousel-caption\">\n                <h3 className=\"page-title\" dangerouslySetInnerHTML={this.createMarkup(story.displayTitle)}></h3>\n              </div>\n            </div>\n            <div className=\"story-body description\">\n              <Col xs={12} dangerouslySetInnerHTML={this.createMarkup(story.body)}></Col>\n            </div>\n          </div>\n        )\n      }\n    }\n    else if (fetchingStory) {\n      return (\n        <>\n          <BannerLoader height={1920} width={1080} />\n          <DetailsLoader />\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"treding-details-wrapper\">\n        {this.getTrendingDetailsTemplate()}\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const { story, fetchingStory, fetchedStory, fetchedStoryError } = state.trendingDetails;\n\n  return { story, fetchingStory, fetchedStory, fetchedStoryError }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getStory: (nid, preview, language) => dispatch(getTrendingDetailsActions.getStory(nid, preview, language)),\n  }\n}\n\n\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\n  return {\n    ...propsFromState,\n    ...propsFromDispatch,\n    ...ownProps,\n    results: propsFromState.story.results,\n    sections: false,\n    countEnable: true\n  }\n};\n\nconst connectedTrendingDetails = connect(mapStateToProps, mapDispatchToProps, mergeProps)(TrendingDetails);\n\nexport default connectedTrendingDetails;\n"],"sourceRoot":""}