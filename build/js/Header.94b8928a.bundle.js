(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{517:function(e,a,t){"use strict";var n=t(1),r=t.n(n),i=t(487),c=function(e){return r.a.createElement(i.a,{height:22,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"110",y:"7",rx:"0",ry:"0",width:"180",height:"7"}))};c.defaultProps={height:0,width:0},a.a=c},523:function(e,a,t){},524:function(e,a,t){e.exports=t.p+"images/Logo.31e15bfe.svg"},525:function(e,a,t){"use strict";var n=t(1),r=t.n(n),i=(t(523),t(524)),c=t.n(i);a.a=function(){return r.a.createElement("header",{className:"col-12 top-header"},r.a.createElement("div",{className:"logo text-center"},r.a.createElement("a",{href:"/login"},r.a.createElement("img",{src:c.a,alt:"Aramis and Designer Fragrances"}))))}},548:function(e,a,t){e.exports=t.p+"images/menu.47371838.svg"},549:function(e,a,t){},550:function(e,a,t){e.exports=t.p+"images/up_arrow.d03601d9.svg"},551:function(e,a,t){e.exports=t.p+"images/down_arrow.8c7952f6.svg"},564:function(e,a,t){"use strict";t.r(a);var n=t(495),r=t(1),i=t.n(r),c=(t(523),t(548)),o=t.n(c),s=t(524),l=t.n(s),d=t(64),m=t(65),u=t(67),h=t(66),g=t(68),v=t(80),p=t(87),f=t(7),b=t.n(f),N=t(49),y=t.n(N),w=t(152),E=t(48),I=t.n(E),O=t(69),k=Object(O.a)();var j={getPrimaryNavigations:function(){return function(e){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST"}),I.a.get("/api/v1/primaryNavigationMenu?_format=json",k).then(function(a){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_SUCCESS",payload:a.data})}).catch(function(a){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_FAILURE",payload:a.response}),e({type:"ADD_ERROR",payload:a})})}}},S=(t(549),t(517)),T=t(150),P=t(550),_=t.n(P),A=t(551),x=t.n(A),C=function(e){function a(){var e;return Object(d.a)(this,a),(e=Object(u.a)(this,Object(h.a)(a).call(this))).handleOrientation=function(){var a=Object(v.a)(Object(v.a)(e));window.addEventListener("resize",function(){a.setState({width:window.innerWidth})})},e.state={items:[],show:!0,width:window.innerWidth,current:"",menuId:0,menuTree:[],fetched:!1,open:!1},e.renderPrimaryNavigation=e.renderPrimaryNavigation.bind(Object(v.a)(Object(v.a)(e))),e.getMenuTemplate=e.getMenuTemplate.bind(Object(v.a)(Object(v.a)(e))),e.handleOrientation=e.handleOrientation.bind(Object(v.a)(Object(v.a)(e))),e.renderLoader=e.renderLoader.bind(Object(v.a)(Object(v.a)(e))),e.getItemTemplate=e.getItemTemplate.bind(Object(v.a)(Object(v.a)(e))),e.handleToggle=e.handleToggle.bind(Object(v.a)(Object(v.a)(e))),e}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getPrimaryNavigations(),this.handleOrientation(),this.setState({token:y.a.load("access_token")})}},{key:"handleToggle",value:function(e){e.preventDefault();var a=Number(e.target.dataset.id);a===this.state.menuId?this.setState({menuId:0}):this.setState({menuId:a})}},{key:"componentWillReceiveProps",value:function(e){var a=e.fetchedPrimaryNavigations,t=e.primaryNavigations,n=e.fetchingPrimaryNavigations;if(a&&0!==t.length&&this.state.fetched){this.setState({fetched:!1});var r=JSON.parse(JSON.stringify(t)),i=r.filter(function(e){return 0===e.parent});r.forEach(function(e,a){i.forEach(function(e,t){e.Id===r[a].parent&&(Object.prototype.hasOwnProperty.call(e,"child")?i[t].child.push(r[a]):i[t].child=[r[a]])})}),this.setState({menuTree:i})}else n&&this.setState({fetched:!0})}},{key:"renderPrimaryNavigation",value:function(){var e=this.state.menuTree;return i.a.createElement("div",{className:b()("main-nav",{"d-none":!this.props.show&&this.state.width<=768})},i.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},this.getMenuTemplate(e,0)))}},{key:"getItemTemplate",value:function(e){return i.a.createElement("li",{key:2*e.Id,className:"nav-item"},i.a.createElement("a",{href:e.href,"data-tid":e.targetId,"data-id":e.Id,onClick:e.child?this.handleToggle:function(){return!0},className:b()({"active-link":e.href===window.location.pathname||0===window.location.pathname.indexOf("".concat(e.href,"/"))})},e.name),e.child&&i.a.createElement("span",{className:"caret","data-id":e.Id,onClick:this.handleToggle,style:{backgroundImage:this.state.menuId===e.Id?"url(".concat(_.a,")"):"url(".concat(x.a,")")}},"Down"),e.child&&this.getMenuTemplate(e.child,e.Id))}},{key:"getMenuTemplate",value:function(e,a){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{key:a,"data-id":a,className:b()("navbar-nav",{"has-child":0!==a},{open:this.state.menuId===a})},e.map(function(e,a){var n="/";switch(e.content){case"home":n="/home";break;case"scentcourses":n="".concat(e.targetId?"/course/".concat(e.targetId):"/courses");break;case"news":n="/news";break;case"products":n="/products";break;case"ingredients":n="/ingredients";break;case"videos":n="/videos";break;case"tools":n="/tools";break;case"brand":n="".concat(e.targetId?"/brand/".concat(e.targetId):"/brand");break;default:n="/"}return e.href=n,t.getItemTemplate(e)}),this.state.token&&void 0!==this.state.token&&this.state.width<=768&&0===a&&i.a.createElement("li",{key:"logout",className:"nav-item"},i.a.createElement(w.b,{to:"/logout"},T.q))))}},{key:"renderLoader",value:function(){for(var e=[],a=0;a<4;a++)e.push(i.a.createElement("li",{key:a,className:"nav-item mw-200"},i.a.createElement(S.a,{height:100,width:400})));return i.a.createElement("div",{className:b()("main-nav col-12",{"d-none":!this.props.show&&this.state.width<=768})},i.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},i.a.createElement("div",{className:"sitenav"},i.a.createElement("ul",{className:"navbar-nav"},e))))}},{key:"render",value:function(){var e=this.props.fetchingPrimaryNavigations;return i.a.createElement(i.a.Fragment,null,e?this.renderLoader():this.renderPrimaryNavigation())}}]),a}(r.Component);var R=Object(p.b)(function(e){var a=e.primaryNavigations;return{fetchingPrimaryNavigations:a.fetchingPrimaryNavigations,fetchedPrimaryNavigations:a.fetchedPrimaryNavigations,primaryNavigations:a.primaryNavigations}},function(e){return{getPrimaryNavigations:function(){return e(j.getPrimaryNavigations())}}})(C),L=t(525),M={backgroundImage:"url(".concat(o.a,")")};a.default=function(e){var a,t,c=Object(r.useState)(!1),o=Object(n.a)(c,2),s=o[0],d=o[1];return"/login"===window.location.pathname||"/reset-password"===window.location.pathname||"/confirm-password"===window.location.pathname?null:Object(O.c)()?(localStorage.getItem("user")&&(a=JSON.parse(localStorage.getItem("user")).firstName,t=JSON.parse(localStorage.getItem("user")).uid),i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"col-12 top-header logged-in"},i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"/home"},i.a.createElement("img",{src:l.a,alt:"Aramis and Designer Fragrances"}))),t&&i.a.createElement("div",{className:"user-icon",onClick:function(){var e=JSON.parse(localStorage.getItem("user")).uid;e&&(document.location="/user/".concat(e))}}),a&&i.a.createElement("p",{className:"welcome-msg"},"Welcome, ",a),i.a.createElement("div",{className:"toggle-bar",onClick:function(){return d(!s)}},i.a.createElement("div",{className:"icon",style:M}))),i.a.createElement(R,{show:s}))):i.a.createElement(L.a,null)}}}]);
//# sourceMappingURL=Header.94b8928a.bundle.js.map