(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{769:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return s}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return m});var n=a(2),r=a(1),i=a.n(r);function o(e,t){var a=e,r=[];return t&&0!==t.length||(r=e),t&&t.length>0&&e&&e.length>0&&a.forEach(function(e){var a=null;Object.prototype.hasOwnProperty.call(e,"userBookmarkStatus")||Object.prototype.hasOwnProperty.call(e,"userFavouriteStatus")||Object.prototype.hasOwnProperty.call(e,"favourites")||Object.prototype.hasOwnProperty.call(e,"bookmarks")||Object.prototype.hasOwnProperty.call(e,"status")?a=e:t.forEach(function(t){(Object.prototype.hasOwnProperty.call(e,"nid")&&e.nid===t.nid||Object.prototype.hasOwnProperty.call(e,"tid")&&e.tid===t.tid)&&(a=Object(n.a)({},e,t))}),r.push(a)}),r}function c(){return window.innerWidth<769?"xs":window.innerWidth<992&&window.innerWidth>768?"sm":window.innerWidth<1199&&window.innerWidth>991?"md":"lg"}function s(){return i.a.createElement("span",{className:"inline-loading"},i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."))}function l(e,t){var a=e;return a&&0===a.length?t:t&&0!==t.length?(t.forEach(function(t,n){e.forEach(function(e,n){t.nid===e.nid&&(a[n]=t)})}),a):void 0}function d(){var e=localStorage.getItem("user"),t=JSON.parse(e);t&&!t.policyFlag&&document.getElementById("toolbar-administration")&&document.getElementById("toolbar-administration").remove()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function m(){return function(e){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var a={msg:"Using ".concat(u(t.usage)," out of ").concat(u(t.quota)," bytes."),estimate:t};e({type:"FETCH_BROWSER_CACHE",payload:a})}):e({type:"FETCH_BROWSER_CACHE",payload:null})}}},772:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(736),o=function(e){return r.a.createElement(i.a,{height:22,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"110",y:"7",rx:"0",ry:"0",width:"180",height:"7"}))};o.defaultProps={height:0,width:0},t.a=o},777:function(e,t,a){},778:function(e,t,a){e.exports=a.p+"images/Logo.31e15bfe.svg"},779:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=(a(777),a(778)),o=a.n(i);t.a=function(){return r.a.createElement("header",{className:"col-12 top-header"},r.a.createElement("div",{className:"logo text-center"},r.a.createElement("a",{href:"/login"},r.a.createElement("img",{src:o.a,alt:"Aramis and Designer Fragrances"}))))}},806:function(e,t,a){e.exports=a.p+"images/menu.47371838.svg"},807:function(e,t,a){},808:function(e,t,a){e.exports=a.p+"images/up_arrow.d03601d9.svg"},809:function(e,t,a){e.exports=a.p+"images/down_arrow.8c7952f6.svg"},826:function(e,t,a){"use strict";a.r(t);var n=a(82),r=a(83),i=a(86),o=a(84),c=a(85),s=a(1),l=a.n(s),d=(a(777),a(806)),u=a.n(d),m=a(778),h=a.n(m),g=a(8),p=a(120),f=a(7),v=a.n(f),y=a(63),b=a.n(y),w=a(228),E=a(102),N=a.n(E),O=a(87),I=Object(O.a)();var k={getPrimaryNavigations:function(){return function(e){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST"}),N.a.get("/api/v1/primaryNavigationMenu?_format=json",I).then(function(t){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_SUCCESS",payload:t.data})}).catch(function(t){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_FAILURE",payload:t.response}),e({type:"ADD_ERROR",payload:t})})}}},S=(a(807),a(772)),j=a(226),P=a(808),T=a.n(P),_=a(809),C=a.n(_),x=a(769),A=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).handleOrientation=function(){var t=Object(g.a)(e);window.addEventListener("resize",function(){t.setState({width:window.innerWidth})})},e.state={items:[],show:!0,width:window.innerWidth,current:"",menuId:0,menuTree:[],fetched:!1,open:!1},e.renderPrimaryNavigation=e.renderPrimaryNavigation.bind(Object(g.a)(e)),e.getMenuTemplate=e.getMenuTemplate.bind(Object(g.a)(e)),e.handleOrientation=e.handleOrientation.bind(Object(g.a)(e)),e.renderLoader=e.renderLoader.bind(Object(g.a)(e)),e.getItemTemplate=e.getItemTemplate.bind(Object(g.a)(e)),e.handleToggle=e.handleToggle.bind(Object(g.a)(e)),e}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getPrimaryNavigations(),this.handleOrientation(),this.props.getStorageLimit(),this.setState({token:b.a.load("access_token")})}},{key:"handleToggle",value:function(e){e.preventDefault();var t=Number(e.target.dataset.id);t===this.state.menuId?this.setState({menuId:0}):this.setState({menuId:t})}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchedPrimaryNavigations,a=e.primaryNavigations,n=e.fetchingPrimaryNavigations;if(t&&0!==a.length&&this.state.fetched){this.setState({fetched:!1});var r=JSON.parse(JSON.stringify(a)),i=r.filter(function(e){return 0===e.parent});r.forEach(function(e,t){i.forEach(function(e,a){e.Id===r[t].parent&&(Object.prototype.hasOwnProperty.call(e,"child")?i[a].child.push(r[t]):i[a].child=[r[t]])})}),this.setState({menuTree:i})}else n&&this.setState({fetched:!0})}},{key:"renderPrimaryNavigation",value:function(){var e=this.state.menuTree;return l.a.createElement("div",{className:v()("main-nav",{"d-none":!this.props.show&&this.state.width<=768})},l.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},this.getMenuTemplate(e,0)))}},{key:"getItemTemplate",value:function(e){return l.a.createElement("li",{key:2*e.Id,className:"nav-item"},l.a.createElement("a",{href:e.href,"data-tid":e.targetId,"data-id":e.Id,onClick:e.child?this.handleToggle:function(){return!0},className:v()({"active-link":e.href===window.location.pathname||0===window.location.pathname.indexOf("".concat(e.href,"/"))})},e.name),e.child&&l.a.createElement("span",{className:"caret","data-id":e.Id,onClick:this.handleToggle,style:{backgroundImage:this.state.menuId===e.Id?"url(".concat(T.a,")"):"url(".concat(C.a,")")}},"Down"),e.child&&this.getMenuTemplate(e.child,e.Id))}},{key:"getMenuTemplate",value:function(e,t){var a=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{key:t,"data-id":t,className:v()("navbar-nav",{"has-child":0!==t},{open:this.state.menuId===t})},e.map(function(e,t){var n="/";switch(e.content){case"home":n="/home";break;case"scentcourses":n="".concat(e.targetId?"/course/".concat(e.targetId):"/courses");break;case"news":n="/news";break;case"products":n="/products";break;case"ingredients":n="/ingredients";break;case"videos":n="/videos";break;case"tools":n="/tools";break;case"brand":n="".concat(e.targetId?"/brand/".concat(e.targetId):"/brand");break;default:n="/"}return e.href=n,a.getItemTemplate(e)}),this.state.token&&void 0!==this.state.token&&this.state.width<=768&&0===t&&l.a.createElement("li",{key:"logout",className:"nav-item"},l.a.createElement(w.b,{to:"/logout"},j.w))))}},{key:"renderLoader",value:function(){for(var e=[],t=0;t<4;t++)e.push(l.a.createElement("li",{key:t,className:"nav-item mw-200"},l.a.createElement(S.a,{height:100,width:400})));return l.a.createElement("div",{className:v()("main-nav col-12",{"d-none":!this.props.show&&this.state.width<=768})},l.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},l.a.createElement("div",{className:"sitenav"},l.a.createElement("ul",{className:"navbar-nav"},e))))}},{key:"render",value:function(){var e=this.props.fetchingPrimaryNavigations;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center"},this.props.storage&&this.props.storage.msg),e?this.renderLoader():this.renderPrimaryNavigation())}}]),t}(s.Component);var B=Object(p.b)(function(e){var t=e.primaryNavigations;return{fetchingPrimaryNavigations:t.fetchingPrimaryNavigations,fetchedPrimaryNavigations:t.fetchedPrimaryNavigations,primaryNavigations:t.primaryNavigations,storage:t.storage}},function(e){return{getPrimaryNavigations:function(){return e(k.getPrimaryNavigations())},getStorageLimit:function(){return e(Object(x.c)())}}})(A),F=a(779),M={backgroundImage:"url(".concat(u.a,")")},R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleUserProfile=function(){var e=JSON.parse(localStorage.getItem("user")).uid;e&&(document.location="/user/".concat(e))},a.toggle=function(){var e=!a.state.menu;a.setState({menu:e})},a.state={menu:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){if("/login"===window.location.pathname||"/reset-password"===window.location.pathname||"/confirm-password"===window.location.pathname||"/registration"===window.location.pathname)return null;if(Object(O.c)()){var e,t;if(localStorage.getItem("user")){t=JSON.parse(localStorage.getItem("user")).uid;var a=JSON.parse(localStorage.getItem("user")).firstName;a&&"/home"===window.location.pathname&&(e=a)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"col-12 top-header logged-in"},l.a.createElement("div",{className:"logo"},l.a.createElement("a",{href:"/home"},l.a.createElement("img",{src:h.a,alt:"Aramis and Designer Fragrances"}))),0!==t&&l.a.createElement("div",{className:"user-icon",onClick:this.handleUserProfile}),e&&l.a.createElement("p",{className:"welcome-msg"},"Welcome, ",e),l.a.createElement("div",{className:"toggle-bar",onClick:this.toggle},l.a.createElement("div",{className:"icon",style:M}))),l.a.createElement(B,{show:this.state.menu}))}return l.a.createElement(F.a,null)}}]),t}(l.a.Component);t.default=R}}]);
//# sourceMappingURL=Header.766f097c.bundle.js.map