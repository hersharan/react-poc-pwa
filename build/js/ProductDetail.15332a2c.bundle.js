(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{769:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return u}),a.d(t,"c",function(){return p});var n=a(2),r=a(1),i=a.n(r);function s(e,t){var a=e,r=[];return t&&0!==t.length||(r=e),t&&t.length>0&&e&&e.length>0&&a.forEach(function(e){var a=null;Object.prototype.hasOwnProperty.call(e,"userBookmarkStatus")||Object.prototype.hasOwnProperty.call(e,"userFavouriteStatus")||Object.prototype.hasOwnProperty.call(e,"favourites")||Object.prototype.hasOwnProperty.call(e,"bookmarks")||Object.prototype.hasOwnProperty.call(e,"status")?a=e:t.forEach(function(t){(Object.prototype.hasOwnProperty.call(e,"nid")&&e.nid===t.nid||Object.prototype.hasOwnProperty.call(e,"tid")&&e.tid===t.tid)&&(a=Object(n.a)({},e,t))}),r.push(a)}),r}function c(){return window.innerWidth<769?"xs":window.innerWidth<992&&window.innerWidth>768?"sm":window.innerWidth<1199&&window.innerWidth>991?"md":"lg"}function o(){return i.a.createElement("span",{className:"inline-loading"},i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."))}function l(e,t){var a=e;return a&&0===a.length?t:t&&0!==t.length?(t.forEach(function(t,n){e.forEach(function(e,n){t.nid===e.nid&&(a[n]=t)})}),a):void 0}function u(){var e=localStorage.getItem("user"),t=JSON.parse(e);t&&!t.policyFlag&&document.getElementById("toolbar-administration")&&document.getElementById("toolbar-administration").remove()}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}function p(){return function(e){"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(t){var a={msg:"Using ".concat(d(t.usage)," out of ").concat(d(t.quota)," bytes."),estimate:t};e({type:"FETCH_BROWSER_CACHE",payload:a})}):e({type:"FETCH_BROWSER_CACHE",payload:null})}}},770:function(e,t,a){"use strict";var n=a(82),r=a(83),i=a(86),s=a(84),c=a(85),o=a(1),l=a.n(o),u=a(156),d=a(7),p=a.n(d),m=a(769),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={src:e.src?e.src:e.defaultImage,alt:"",title:"",status:!1},a.Image=l.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;if("IntersectionObserver"in window){var t=new IntersectionObserver(function(a,n){a.forEach(function(a){if(a.isIntersecting){var n=a.target;n.parentNode.classList.add("lazy-wrapper"),n.parentNode.classList.add("image-load"),n.src=e.state.src,n.parentNode.style.height=a.target.height+"px",n.classList.remove("lazy"),n.classList.add("lazy-item"),n.parentNode.classList.remove("lazy-wrapper"),n.parentNode.classList.remove("image-load"),n.parentNode.style.height=null,t.unobserve(n)}})});this.Img=t}}},{key:"componentDidMount",value:function(){this.Img.observe(this.Image.current)}},{key:"componentWillReceiveProps",value:function(e){this.setState({src:e.src?e.src:e.defaultImage})}},{key:"render",value:function(){return l.a.createElement("picture",{className:p()({banner:"banner"===this.props.type},{default:this.props.src===this.props.defaultImage},{completed:this.props.completed}),style:"lg"===Object(m.b)()&&"banner"===this.props.type?{backgroundImage:"url(".concat(this.props.imageLarge,")")}:{}},this.props.imageLarge&&l.a.createElement("source",{media:"(min-width: 1081px)",srcSet:this.props.imageLarge}),this.props.imageMedium&&l.a.createElement("source",{media:"(min-width: 769px)",srcSet:this.props.imageMedium}),l.a.createElement("img",{className:"lazy lazy-image",src:this.props.defaultImage?this.props.defaultImage:u.g,"data-src":this.state.src,alt:this.state.alt,ref:this.Image}))}}]),t}(o.Component);t.a=h},771:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(1),r=a.n(n);function i(e){return r.a.createElement("h1",{className:"no-data text-center"},e||"No Content Found")}},773:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(736),s=function(e){return r.a.createElement(i.a,{speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",className:"row"},r.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:e.width,height:e.height}))};s.defaultProps={height:0,width:0},t.a=s},774:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(736);t.a=function(){return r.a.createElement(i.a,{height:260,width:260,speed:2,primaryColor:"#f3eeed",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"8",y:"19",rx:"0",ry:"0",width:"245",height:"183"}),r.a.createElement("rect",{x:"8",y:"213",rx:"0",ry:"0",width:"245",height:"15"}),r.a.createElement("rect",{x:"67",y:"237",rx:"0",ry:"0",width:"125",height:"15"}))}},775:function(e,t,a){"use strict";var n=a(157),r=a(82),i=a(83),s=a(86),c=a(84),o=a(8),l=a(85),u=a(1),d=a.n(u),p=a(760),m=a(761),h=a(762),g=a(763),f=a(764),y=a(756),E=a(227),b=a(156),v=a(770),O=a(771),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).createMarkup=a.createMarkup.bind(Object(o.a)(a)),a.getRenderResults=a.getRenderResults.bind(Object(o.a)(a)),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"getRenderResults",value:function(){var e=this,t=this.props,a=t.items,r=t.type,i=t.showBrandTitle,s=Object(n.a)(t,["items","type","showBrandTitle"]),c="#";if("undefined"!==typeof r)switch(r){case"levels":c="/levels/";break;case"products":case"product":c="/product/";break;case"ingredients":case"ingredient":c="/ingredient/";break;case"news":c="/news/";break;default:c="#"}return a&&0!==a.length?a.map(function(t,a){return d.a.createElement(p.a,Object.assign({key:a,xs:12,sm:6,md:4,lg:3},s,{className:"list-item text-center"}),d.a.createElement(m.a,{className:"listing-block"},d.a.createElement(h.a,{href:"".concat(c).concat(t.nid?t.nid:t.tid)},d.a.createElement(v.a,{defaultImage:b.g,src:t.imageSmall})),d.a.createElement(g.a,{tag:"h2"},d.a.createElement(h.a,{href:"".concat(c).concat(t.nid?t.nid:t.tid),dangerouslySetInnerHTML:e.createMarkup(t.displayTitle&&t.displayTitle)})),i&&0!==t.brand&&d.a.createElement(f.a,{tag:"h3",className:"brand-title"},e.context[t.brand]),t.subTitle&&e.props.showSubTitle&&d.a.createElement(f.a,{className:"sub-title"},d.a.createElement(h.a,{href:"".concat(c).concat(t.categoryId||t.nid),dangerouslySetInnerHTML:e.createMarkup(t.subTitle)}))))}):Object(O.a)(this.props.noDataLabel)}},{key:"render",value:function(){var e=this;return d.a.createElement(E.b,null,function(){return d.a.createElement(y.a,{className:"section-content"},e.getRenderResults())})}}]),t}(u.Component);L.contextType=E.a,L.defaultProps={showBrandTitle:!0},t.a=L},776:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(760),s=a(756),c=a(156),o=a(774);function l(e){for(var t=[],a=0;a<c.c;a++)t.push(r.a.createElement(i.a,{xs:12,sm:6,md:4,lg:3,className:e.itemClass,key:"".concat(e.type,"_").concat(a)},r.a.createElement(o.a,null)));return r.a.createElement(s.a,null,t)}l.defaultProps={itemClass:"list-item",type:"loader",divClass:""},t.a=l},780:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(736),s=function(e){return r.a.createElement(i.a,{height:200,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"170",y:"20",rx:"0",ry:"0",width:"70",height:"8"}),r.a.createElement("rect",{x:"0",y:"70",rx:"2",ry:"2",width:"300",height:"3"}),r.a.createElement("rect",{x:"0",y:"50",rx:"2",ry:"2",width:"250",height:"3"}),r.a.createElement("rect",{x:"0",y:"90",rx:"2",ry:"2",width:"200",height:"3"}))};s.defaultProps={height:0,width:0},t.a=s},796:function(e,t,a){"use strict";var n=a(102),r=a.n(n),i=a(87),s=Object(i.a)();var c={getFeauredCarousel:function(e){return function(t){t({type:"FETCH_FEATURED_CAROUSEL"}),r.a.get("/api/v1/featuredCarousel?_format=json&type=".concat(e),s).then(function(e){t({type:"FETCH_FEATURED_CAROUSEL_SUCCESS",payload:e})}).catch(function(e){t({type:"FETCH_FEATURED_CAROUSEL_FAILURE",payload:e.response}),t({type:"ADD_ERROR",payload:e})})}}};t.a=c},797:function(e,t,a){},798:function(e,t,a){},800:function(e,t,a){"use strict";var n=a(82),r=a(83),i=a(86),s=a(84),c=a(8),o=a(85),l=a(1),u=a.n(l),d=a(120),p=a(102),m=a.n(p),h=a(87),g=Object(h.a)();var f={getKeynotes:function(e,t){var a=t.map(function(e){return"&nid[]=".concat(e)}).toString();return function(t){t({type:"FETCH_KEYNOTES"}),m.a.get("/api/v1/keyNotes?_format=json&type=".concat(e).concat(a),g).then(function(e){t({type:"FETCH_KEYNOTES_SUCCESS",payload:e})}).catch(function(e){t({type:"FETCH_KEYNOTES_FAILURE",payload:e.response}),t({type:"ADD_ERROR",payload:e})})}}},y=a(776),E=a(775),b=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).keyNotesTemplate=a.keyNotesTemplate.bind(Object(c.a)(a)),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getKeynotes(this.props.type,this.props.items)}},{key:"keyNotesTemplate",value:function(){var e=this.props,t=e.fetchingKeynotes,a=e.fetchedKeynotes,n=e.keynotes;return t?u.a.createElement(y.a,null):a&&n&&0!==n.results.length?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"keynotes info"},u.a.createElement("h2",{className:"section-title"},this.props.header),u.a.createElement(E.a,{items:n.results,type:this.props.type,showSubTitle:this.props.showSubTitle}))):void 0}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.keyNotesTemplate())}}]),t}(l.Component);var v=Object(d.b)(function(e){var t=e.keynotes;return{fetchingKeynotes:t.fetchingKeynotes,fetchedKeynotes:t.fetchedKeynotes,keynotes:t.keynotes,keynotesError:t.keynotesError}},function(e){return{getKeynotes:function(t,a){return e(f.getKeynotes(t,a))}}})(b);t.a=v},834:function(e,t,a){"use strict";a.r(t);var n=a(82),r=a(83),i=a(86),s=a(84),c=a(8),o=a(85),l=a(1),u=a.n(l),d=a(120),p=a(756),m=a(228),h=a(102),g=a.n(h),f=a(87),y=Object(f.a)();var E={getProductDetail:function(e){return function(t){t({type:"FETCH_PRODUCT_DETAIL"}),g.a.get("/api/v1/product?_format=json&nid=".concat(e),y).then(function(e){t({type:"FETCH_PRODUCT_DETAIL_SUCCESS",payload:e})}).catch(function(e){t({type:"FETCH_PRODUCT_DETAIL_FAILURE",payload:e.response}),t({type:"ADD_ERROR",payload:e})})}}},b=a(770),v=a(773),O=a(780),L=a(156),N=a(800),C=a(227),T=a(226),w=(a(797),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={nid:0},a.getProductDetailsTemplate=a.getProductDetailsTemplate.bind(Object(c.a)(a)),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.nid;this.props.getProductDetail(e)}},{key:"getProductDetailsTemplate",value:function(){var e=this.props,t=e.fetchingProductDetail,a=e.fetchedProductDetail,n=e.productDetail;if(a){if(n.results&&0!==n.results.length){var r=n.results[0];return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null,r.imageLarge&&u.a.createElement(b.a,{defaultImage:L.a,src:r.imageSmall?r.imageSmall:L.a,imageLarge:r.imageLarge?r.imageLarge:L.a,imageMedium:r.imageMedium?r.imageMedium:L.a,type:"banner"})),u.a.createElement(p.a,null,u.a.createElement("article",{className:"product text-center"},u.a.createElement("p",{className:"sub-heading brand-title"},u.a.createElement(m.b,{to:"/products"},this.props.pageTitle)),u.a.createElement("div",{className:"header-info"},0!==r.brand&&u.a.createElement("h2",{className:"page-title"},this.context[r.brand]),r.displayTitle&&u.a.createElement("h2",{className:"page-title"},r.displayTitle)),r.packagingInfo&&u.a.createElement("div",{className:"packing-info info"},u.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:r.packagingInfo}})),r.story&&u.a.createElement("div",{className:"story info"},u.a.createElement("h2",{className:"section-title"},this.props.storyLabel),u.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:r.story}})),r.scent&&u.a.createElement("div",{className:"scent info"},u.a.createElement("h2",{className:"section-title"},this.props.scentLabel),u.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:r.scent}})),0!==r.keyNotes.length&&u.a.createElement(N.a,{type:"ingredient",items:r.keyNotes,header:this.props.keyNotesLabel,showSubTitle:!0}),r.spectrumLarge&&u.a.createElement("div",{className:"spectrum info"},u.a.createElement("h2",{className:"section-title"},this.props.spectrumLabel),u.a.createElement("div",{className:"details"},u.a.createElement(b.a,{defaultImage:L.a,src:r.spectrumSmall?r.spectrumSmall:L.a,imageLarge:r.spectrumLarge?r.spectrumLarge:L.a,imageMedium:r.spectrumMedium?r.spectrumMedium:L.a,type:"banner"}))),r.selling&&u.a.createElement("div",{className:"scent info"},u.a.createElement("h2",{className:"section-title"},this.props.sellingLabel),u.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:r.selling}})),r.video&&u.a.createElement("div",{className:"video info"},u.a.createElement("h2",{className:"section-title"},this.props.videoLabel),u.a.createElement("div",{className:"details"},u.a.createElement("video",{width:"640",height:"360",controls:!0,poster:r.videoThumbnailImage?r.videoThumbnailImage:L.a,controlsList:"nodownload"},u.a.createElement("source",{src:r.video,type:"video/mp4"}),"Your browser does not support the video tag."))))))}}else if(t)return u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,{height:1920,width:1080}),u.a.createElement(O.a,null))}},{key:"render",value:function(){var e=this;return u.a.createElement(C.b,null,function(){return u.a.createElement("div",{className:"product-details"},e.getProductDetailsTemplate())})}}]),t}(l.Component));w.contextType=C.a,w.defaultProps={pageTitle:T.F,storyLabel:T.eb,scentLabel:T.P,spectrumLabel:T.cb,sellingLabel:T.Z,videoLabel:T.ib,keyNotesLabel:T.t};var I=Object(d.b)(function(e){var t=e.productDetails;return{fetchingProductDetail:t.fetchingProductDetail,fetchedProductDetail:t.fetchedProductDetail,productDetail:t.productDetail,productDetailsError:t.productDetailsError}},function(e){return{getProductDetail:function(t,a,n){return e(E.getProductDetail(t,a,n))}}})(w);t.default=I},835:function(e,t,a){"use strict";a.r(t);var n=a(738),r=a(82),i=a(83),s=a(86),c=a(84),o=a(8),l=a(85),u=a(1),d=a.n(u),p=a(120),m=a(7),h=a.n(m),g=a(756),f=a(102),y=a.n(f),E=a(87),b=Object(E.a)();var v={getIngredientsListing:function(e,t){return function(a){a({type:"FETCH_INGREDIENTS_LIST"}),y.a.get("/api/v1/ingredients?_format=json&limit=".concat(e,"&offset=").concat(t),b).then(function(e){a({type:"FETCH_INGREDIENTS_LIST_SUCCESS",payload:e})}).catch(function(e){a({type:"FETCH_INGREDIENTS_LIST_FAILURE",payload:e.response}),a({type:"ADD_ERROR",payload:e})})}}},O=a(796),L=a(775),N=a(771),C=a(156),T=a(226),w=a(776),I=a(773),k=a(770),S=(a(798),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={data:[],show:!1,fetched:!1},a.getListData=a.getListData.bind(Object(o.a)(a)),a.getNextPageContent=a.getNextPageContent.bind(Object(o.a)(a)),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getIngredientsListing(C.d,0),this.props.getSpotlight("ingredient")}},{key:"getSpotlight",value:function(){var e=this.props,t=e.fetchingFeaturedCarousel,a=e.fetchedFeaturedCarousel,n=e.featuredCarousel;if(a&&n&&0!==n.results.length){var r=n.results[0],i=r.imageLarge,s=r.imageMedium,c=r.imageSmall;return d.a.createElement(k.a,{defaultImage:C.a,src:c||C.a,imageLarge:i||C.a,imageMedium:s||C.a,type:"banner"})}if(t)return d.a.createElement(I.a,{height:1920,width:1080})}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchingIngredientsList,a=e.fetchedIngredientsList,r=e.ingredients,i=e.pager;a&&i&&this.state.fetched?(i.count>C.d?this.setState({show:!0}):this.setState({show:!1}),this.setState({data:[].concat(Object(n.a)(this.state.data),Object(n.a)(r.results)),is_disabled:!1,fetched:!1})):t&&this.setState({fetched:!0})}},{key:"getListData",value:function(){var e=this.props,t=e.fetchingIngredientsList,a=e.fetchedIngredientsList,n=e.status,r=this.state.data;if(r&&0!==r.length)return d.a.createElement(L.a,{items:r,type:"ingredients"});if(a){if(0===r.length&&204===n)return Object(N.a)()}else if(t)return d.a.createElement(w.a,null)}},{key:"getNextPageContent",value:function(){var e=this.state.data.length;this.setState({is_disabled:!0}),this.props.getIngredientsListing(C.d,e)}},{key:"render",value:function(){return d.a.createElement("div",{className:"ingredients-listing"},d.a.createElement("div",{className:"banner-spotlight"},this.getSpotlight()),d.a.createElement(g.a,null,d.a.createElement("div",{className:"col content-header"},d.a.createElement("h1",{className:"page-title"},this.props.sectionHeading))),this.getListData(),d.a.createElement(g.a,null,d.a.createElement("div",{className:h()("col more-link",{"d-none":!this.state.show})},d.a.createElement("button",{className:h()("btn btn-outline-secondary text-uppercase",{disabled:this.state.is_disabled}),onClick:this.getNextPageContent},this.props.seeMoreLabel))))}}]),t}(u.Component));S.defaultProps={sectionHeading:T.o,seeMoreLabel:T.R};var j=Object(p.b)(function(e){var t=e.ingredientsListing,a=t.fetchingIngredientsList,n=t.fetchedIngredientsList,r=t.ingredients,i=t.ingredientsListError,s=t.pager,c=t.status,o=e.featuredCarousel;return{fetchingIngredientsList:a,fetchedIngredientsList:n,ingredients:r,ingredientsListError:i,pager:s,status:c,fetchingFeaturedCarousel:o.fetchingFeaturedCarousel,fetchedFeaturedCarousel:o.fetchedFeaturedCarousel,featuredCarousel:o.featuredCarousel,featuredCarouselError:o.featuredCarouselError}},function(e){return{getIngredientsListing:function(t,a){return e(v.getIngredientsListing(t,a))},getSpotlight:function(t){return e(O.a.getFeauredCarousel(t))}}})(S);t.default=j}}]);
//# sourceMappingURL=ProductDetail.15332a2c.bundle.js.map